## Описание
Данный проект представляет собой шаблон, на базе которого можно структурировать свой проект для инфраструктуры OG.
Данная структура включает следующие компоненты:
1. Контейнеризация средствами Docker
2. Разворачивание сервиса с помощью bash скрита через docker-compose
3. Поддержка системы обеспечения жизненного цикла модели MLFlow
4. Поддержка переобучения средствами Airflow
5. Контроль качества переобучаемой модели посредством мониторинга через MLFlow / Prometheus
6. Хранение и загрузка модели через MLFlow
7. Автоматическое тестирование
8. Gitlab CI / CD
9. Воспроизводимость эксперимента и версионирование средствами DVC

Проект подготовлен для питона не ниже версии 3.9.1. Можно использовать более ранние версии, однако в таком случае потребуется отказаться от использования плагина DVC для VSCode.

## Структура проекта

### Файлы, которые должны редактироваться только DevOps'ом
- test.py ← код сервиса, обслуживающего автотесты
- .gitlab-ci.yml ← декларативное описание CI
- config.env ← переменные среды, используемые app.py
- docker-compose.yml ← docker-compose файл для сервиса
- docker-compose-test.yml ← docker-compose файл для автотестов
- Dockerfile ← описание контейнера для Docker
- setup.sh ← bash скрипт для запуска контейнера без CI
- .dvc/ ← папка, которая содержит конфигурацию к DVC и метаданные

### Файлы, которые должны редактироваться разработчиком
- [README.md](http://README.md) ← краткое описание проекта с инструкцией
- requirements.txt ← зависимости проекта 
- app.py ← код сервиса, обслуживающего модель
- dag.py ← код ДАГа Airflow, используемого для переобучения
- data/ ← папка для хранения данных (сырые, обработанные, внешние источники и тп)
  - raw/ ← сырые данные
  - interim/ ← очищенные данные
  - processed/ ← обработанные данные под конкретную модель
  - external/ ← данные из внешних источников (словари и так далее)
- docs/  ← аналитическая записка проекта
- models/ ← папка для хранения моделей
- notebooks/ ← папка для хранения блокнотов с результатами анализа
- reports/  ← сгенерированные отчеты
- config/ ← папка для хранения конфигурационных файлов
  - config_local.yml ← конфигурация для работы на локальной машине
  - config.yml ← конфигурация для работы на тестовом контуре
  - config_production.yml ← конфигурация для работы на контуре заказчика
- \<project-name\>/ ← папка для хранения исходных файлов
  - data/ ← загрузка и валидация данных
  - features/ ← формирование и сохранение данных (препроцессинг)
  - model/ ← файлы с описанием модели и кодом ее обучения, инференса, валидации
  - tests/ ← тесты для проверки модели и сервиса, который использует данную модель
  - lifecycle/ ← скрипты используемые в Airflow для поддержания жизненного цикла модели

### Не редактировать!
- dvc.lock - файл для версионирования DVC